<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>充電樁管理系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./font-awesome/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./font-awesome/js/all.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400&display=swap" rel="stylesheet">

    <!-- datatable -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.css" />
    <script type="text/javascript"
        src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.js"></script>

    <!-- chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="style.css">
    <script src="./script.js"></script>
</head>

<body>
    <header>
    </header>
    <script>
        $.get('header.html', function (response) {
            $('header').html(response);
        });
    </script>
    <div class="d-flex position-relative">
        <div id="menu-holder" style="z-index: -1;"></div>
        <section class="position-relative" id="system-main">
            <div class="w-100 pt-4 position-absolute" style="background-color: rgba(var(--bs-primary-rgb),0.75);">
                <h3 class="ps-5 ms-4 pb-5 mb-5 text-white">系統儀錶板</h3>
            </div>
            <div class="mt-5 px-2 pt-4 px-xl-5 position-relative d-flex flex-column align-items-center w-100">
                <div class="row my-3 justify-content-center align-items-stretch w-100">
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">充電樁分布</h5>
                                <iframe
                                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.0996099068366!2d121.51940375082481!3d25.064612783879287!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a944413100e3%3A0x78758b116c9f9129!2ststi%20-%20Tatung%20System%20Technologies%20Inc.!5e0!3m2!1szh-TW!2stw!4v1647847274270!5m2!1szh-TW!2stw"
                                    width="100%" height="450" style="border:0;" allowfullscreen=""
                                    loading="lazy"></iframe>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">充電樁即時資訊</h5>
                                <table class="table table-striped" id="realtimeTable">
                                    <thead>
                                        <tr>
                                            <th>場域</th>
                                            <th>充電樁代號</th>
                                            <th>現在供電</th>
                                            <th>告警</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                        <tr>
                                            <td>民權西</td>
                                            <td>105551</td>
                                            <td>666 kWh</td>
                                            <td>無</td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">即時用電</h5>
                                <div>
                                    <canvas id="energyChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">用電比較</h5>
                                <div>
                                    <canvas id="compareChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
<script>
    const labels = [
        '10:00',
        '11:00',
        '12:00',
        '01:00',
        '02:00',
        '03:00',
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: '10115',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [0, 10, 5, 2, 20, 30, 45],
        },
        {
            label: '13505',
            backgroundColor: 'rgb(255, 99, 44)',
            borderColor: 'rgb(255, 99, 44)',
            data: [5, 30, 9, 10, 55, 22, 10],
        }]
    };

    const config = {
        type: 'line',
        data: data,
        options: {}
    };
    const energyChart = new Chart(
        document.getElementById('energyChart'),
        config
    );
    const compareChart = new Chart(
        document.getElementById('compareChart'),
        {
            type: 'bar',
            data: {
                labels: [
                    '1月',
                    '2月',
                    '3月',
                    '4月',
                    '5月',
                    '6月',
                ],
                datasets: [{
                    label: '10115',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [10, 10, 5, 2, 20, 30, 45],
                },
                {
                    label: '13505',
                    backgroundColor: 'rgb(255, 99, 44)',
                    borderColor: 'rgb(255, 99, 44)',
                    data: [5, 30, 9, 10, 55, 22, 10],
                }]
            },
            options: {}
        }
    );


    $(function () {
        // DataTable
        var table = $('#realtimeTable').DataTable({
            paging: false,
            searching: false,
            language: {
                "decimal": "",
                "emptyTable": "No data available in table",
                "info": "顯示 _START_ 到 _END_ 筆 (共_TOTAL_筆 )",
                "infoEmpty": "顯示 0 到 0 筆 (共0筆 )",
                "infoFiltered": "(filtered from _MAX_ total entries)",
                "infoPostFix": "",
                "thousands": ",",
                "lengthMenu": "一頁 _MENU_ 筆",
                "loadingRecords": "Loading...",
                "processing": "Processing...",
                "search": "搜尋:",
                "zeroRecords": "無符合資料",
                "paginate": {
                    "first": "第一筆",
                    "last": "最後一筆",
                    "next": "下一頁",
                    "previous": "上一頁"
                },
                "aria": {
                    "sortAscending": ": activate to sort column ascending",
                    "sortDescending": ": activate to sort column descending"
                }
            }
        }
        );
    })
</script>

</html>